# PatentSearch
  目的：在已有专利库寻找类似的专利文档
  
  ## 数据
  
  测试数据文档号 ： [100 testing sample](./data/100_2000.txt)
  
  参考答案文档号 ： [cn_cn_citation](./data/cn_cn_citation_find.1.txt)
  
  > 原数据存在ES数据库中
  
  ## 样本示例
  考题文档 < CN102025838A>  对应的相似文档为 <'CN101521861A', 'CN101267597A', 'CN101026652A', 'CN101026652A', 'CN101521861A'>
  
     > 文档号(考题)： CN102025838A
     > title ： 多媒体彩铃资源盒的展现方法与装置
     > abstract : 本发明公开了一种多媒体彩铃资源盒的展现方法，包括：用户定义或购买多媒体彩铃资源盒；在多媒体彩铃业务使用过程中按所述用户设置的多媒体彩铃展现规则在所述播资源 盒中选择多媒体彩铃并展现。本发明同时公开了一种多媒体彩铃资源盒的展现装置，包括：提供单元，用于为用户提供多媒体彩铃资源盒；设置单元，用于由所述用户设置多媒体彩铃展现规则；展现单元，用于在多媒体彩铃业务使用过程中按所述用户设置的多媒体彩铃展现规则在所述播资源盒中选择多媒体彩铃并展现。本发明满足了用户多媒体彩铃的个性化需求，实现了彩铃的多样性支持。
     > claims : 1.一种多媒体彩铃资源盒的展现方法，其特征在于，包括：用户定义或购买多媒体彩铃资源盒；以及在多媒体彩铃业务使用过程中按所述用户设置的多媒体彩铃展现规则在所述播资源盒中选择多媒体彩铃并展现。2.根据权利要求1所述的方法，其特征在于，所述资源盒中存储的多媒体彩铃资源由所述用户上载到多媒体彩铃服务器中，或者，所述资源盒中存储的多媒体彩铃资源由所述用户从所述多媒体彩铃服务器所提供的多媒体彩铃资源中所选取，或者，所述资源盒中存储的多媒体彩铃是由所述用户上载的多媒体彩铃以及从所述多媒体彩铃服务器所提供的多媒体彩铃资源中选取的多媒体彩铃。3.根据权利要求1所述的方法，其特征在于，所述多媒体彩铃展现规则包括：按所述资源盒中存储的多媒体彩铃的顺序依次循环地为所述用户所呼叫的被叫用户展现多媒体彩铃；或者，随机在所述资源盒中存储的多媒体彩铃选择一个展现给所述用户所呼叫的被叫用户。 4.根据权利要求1所述的方法，其特征在于，所述多媒体彩铃包括但不限于以下资源中的至少一种：音频文件、视频文件、文本文件、图片、电子名片。 5.一种多媒体彩铃资源盒的展现装置，其特征在于，包括：提供单元，用于为用户提供多媒体彩铃资源盒；设置单元，用于由所述用户设置多媒体彩铃展现规则；以及  展现单元，用于在所述用户发起的呼叫业务过程中按所述用户设置的多媒体彩铃展现规则为被叫用户在所述播资源盒中选择多媒体彩铃并为所述被叫用户展现。 6.根据权利要求5所述的装置，其特征在于，所述资源盒中存储的多媒体彩铃资源由所述用户所上载，或者，所述资源盒中存储的多媒体彩铃资源由所述用户从所述多媒体彩铃服务器所提供的多媒体彩铃资源中所选取，或者，所述资源盒中存储的多媒体彩铃是由所述用户上载的多媒体彩铃以及从所述多媒体彩铃服务器所提供的多媒体彩铃资源中选取的多媒体彩铃。7.根据权利要求5所述的装置，其特征在于，所述多媒体彩铃展现规则包括：按所述资源盒中存储的多媒体彩铃的顺序依次循环地为所述用户所呼叫的被叫用户展现多媒体彩铃；或者，随机在所述资源盒中存储的多媒体彩铃选择一个展现给所述用户所呼叫的被叫用户。8.根据权利要求5所述的装置，其特征在于，所述多媒体彩铃包括但不限于以下资源中的至少一种：音频文件、视频文件、文本文件、图片、电子名片。
     > description : 多媒体彩铃资源盒的展现方法与装置               技术领域       本发明涉及用户终端的多媒体彩铃的展现技术，尤其涉及一种多媒体彩铃资源盒的展现方法与装置。                 背景技术       传统彩铃业务向用户展现的内容一般只有音频格式的媒体，包括各种各样的铃音，如歌曲、乐曲、自然音(如鸟鸣)、用户自己制作的个性化铃音等。在业务使用过程中，用户除了可以设置某一个铃音用于呼叫过程中的展现外，还可以将多个铃音打包成一个铃音盒，在后续的呼叫过程中，从铃音盒中以某种顺序选择铃音向被叫用户展现。       多媒体彩铃业务的展现内容有所扩展，除了音频之外，还可以是视频、文本、图片和电子名片等多媒体内容，或者它们的组合。这些内容称为多媒体彩铃资源。与传统彩铃业务中的铃音盒类似，用户也存在这样的需求：把这些多媒体彩铃资源中的多个资源组成一个资源盒，在后续的业务使用过程中，以某种顺序从资源盒中选取资源进行展现。       由于多媒体彩铃业务中资源类型的多样性，需要研究如何对资源盒进行定义和设置，以及在业务使用过程中资源盒中的内容如何展现等。                 发明内容       有鉴于此，本发明的主要目的在于提供一种多媒体彩铃资源盒的展现方法与装置，能按用户设置方式向被叫用户提供所设置的多媒体彩铃。       为达到上述目的，本发明的技术方案是这样实现的：       一种多媒体彩铃资源盒的展现方法，包括：       用户定义或购买多媒体彩铃资源盒；以及       在多媒体彩铃业务使用过程中按所述用户设置的多媒体彩铃展现规则在所述播资源盒中选择多媒体彩铃并展现。       优选地，所述资源盒中存储的多媒体彩铃资源由所述用户上载到多媒体彩铃服务器中，或者，所述资源盒中存储的多媒体彩铃资源由所述用户从所述多媒体彩铃服务器所提供的多媒体彩铃资源中所选取，或者，所述资源盒中存储的多媒体彩铃是由所述用户上载的多媒体彩铃以及从所述多媒体彩铃服务器所提供的多媒体彩铃资源中选取的多媒体彩铃。       优选地，所述多媒体彩铃展现规则包括：       按所述资源盒中存储的多媒体彩铃的顺序依次循环地为所述用户所呼叫的被叫用户展现多媒体彩铃；       或者，随机在所述资源盒中存储的多媒体彩铃选择一个展现给所述用户所呼叫的被叫用户。       优选地，所述多媒体彩铃包括但不限于以下资源中的至少一种：音频文件、视频文件、文本文件、图片、电子名片。       一种多媒体彩铃资源盒的展现装置，包括：       提供单元，用于为用户提供多媒体彩铃资源盒；       设置单元，用于由所述用户设置多媒体彩铃展现规则；以及       展现单元，用于在所述用户发起的呼叫业务过程中按所述用户设置的多媒体彩铃展现规则为被叫用户在所述播资源盒中选择多媒体彩铃并为所述被叫用户展现。       优选地，所述资源盒中存储的多媒体彩铃资源由所述用户所上载，或者，所述资源盒中存储的多媒体彩铃资源由所述用户从所述多媒体彩铃服务器所提供的多媒体彩铃资源中所选取，或者，所述资源盒中存储的多媒体彩铃是由所述用户上载的多媒体彩铃以及从所述多媒体彩铃服务器所提供的多媒体彩铃资源中选取的多媒体彩铃。       优选地，所述多媒体彩铃展现规则包括：       按所述资源盒中存储的多媒体彩铃的顺序依次循环地为所述用户所呼叫的被叫用户展现多媒体彩铃；       或者，随机在所述资源盒中存储的多媒体彩铃选择一个展现给所述用户所呼叫的被叫用户。       优选地，所述多媒体彩铃包括但不限于以下资源中的至少一种：音频文件、视频文件、文本文件、图片、电子名片。       本发明中，多媒体彩铃向用户提供多媒体彩铃的资源盒，用于存储用户选选取的多媒体彩铃或用户上载的多媒体彩铃文件，并接受用户对多媒体彩铃展现规则的设置，这样，在接收到用户的呼叫业务时，能根据用户设置的展现规则向被叫用户展现用户所希望的多媒体彩铃，满足了用户多媒体彩铃的个性化需求，实现了彩铃的多样性支持。                 附图说明       图1为本发明多媒体彩铃资源盒的展现方法的流程图；       图2为本发明多媒体彩铃资源盒的展现装置的组成结构示意图。                 具体实施方式       本发明的基本思想是：多媒体彩铃向用户提供多媒体彩铃的资源盒，用于存储用户选选取的多媒体彩铃或用户上载的多媒体彩铃文件，并接受用户对多媒体彩铃展现规则的设置，这样，在接收到用户的呼叫业务时，能根据用户设置的展现规则向被叫用户展现用户所希望的多媒体彩铃，满足了用户多媒体彩铃的个性化需求，实现了彩铃的多样性支持。       为使本发明的目的、技术方案和优点更加清楚明白，以下举实施例并参照附图，对本发明进一步详细说明。       图1为本发明多媒体彩铃资源盒的展现方法的流程图，如图1所示，本发明多媒体彩铃资源盒的展现方法包括以下步骤：       步骤101：为用户提供多媒体彩铃资源盒。       本发明的目的在于使得多媒体彩铃用户能够自己定义或者购买由业务提供商(SP，Service Provider)定义的资源盒，并对资源盒的展现顺序进行设置；在业务使用过程中，按照用户设置的展现规则，从资源盒中选取资源进行展现。运营商通过多媒体彩铃服务器向用户提供多媒体彩铃资源盒，所述资源盒中可存储各种多媒体彩铃，包括音频文件、视频文件、文本文件、图片、电子名片(VCard)。其中音频的内容包括歌曲、音乐、语音等；视频内容可以是一段电影的剪辑、用户自己拍摄的影片片段等；文本是表达用户信息或者个性化内容的一段文字；图片是用户设置的具有一定含义和个性化信息的图像资源；VCard是记录联系人信息的电子商务卡片，包含的信息有姓名、地址信息、电话号码、邮箱地址、logo、相片等。对于任何一种资源类别，可能包含很多不同的资源。例如，对于文本类，用户可以设置反映自己信息的文字内容，或者表达自己兴趣、心情的多种个性化文字内容。对于VCard，除了姓名和地址等基本信息外，用户可以设置不同的logo和相片，这样形成用户自己的多个VCard，用于不同情况下进行展现。       资源盒可以定义为：由多个相同类型的多媒体彩铃资源组成，并预定义从资源盒中选择一个资源进行展现的规则，也可以是上述各种多媒体彩铃资源的组合。       多媒体彩铃服务器中多媒体彩铃资源存储方式包含如表1所示的字段：                              表1       资源盒中多媒体彩铃资源存储方式包含如表2所示的字段：                              表2       在多媒体彩铃业务流程中，多媒体彩铃业务系统根据用户设置选定需要使用的资源盒；如果需要的话，根据资源盒的媒体类型进行媒体协商；根据资源盒的展现规则从资源盒中确定需要展现的资源；然后展现确定的媒体资源。       步骤102：在所述用户发起的呼叫业务过程中按所述用户设置的多媒体彩铃展现规则为被叫用户在所述播资源盒中选择多媒体彩铃并为所述被叫用户展现。       对于多媒体彩铃业务，一般来说是在一次应用场景，选择一个资源进行展现。这样的选择是按照一定的偏好规则来进行的，例如对于某个特定的对方用户，在业务使用中向对方展现固定的某种资源。出于业务使用方便和个性化的考虑，用户往往有这样的需求：在两次业务使用过程中，能够展现不重复的资源。例如在呼叫时候，虽然是同一个对方主叫用户，在上次呼叫中播放的是铃音资源A，而在本次呼叫中，播放铃音资源B。这样能够给用户带来良好的业务体验。因为在业务使用过程中，一般会在播放资源之前进行资源的媒体协商，因此对于某一个资源盒，构成它的所有资源应具有相同的媒体类型，这样便于在业务使用过程中的媒体信息交互。       资源盒的展现规则是指资源盒中资源的展现顺序。有两种类型的展现顺序，一是随机展现，即在每次使用资源盒的时候随机从资源盒中选取一个资源进行展现；二是顺序展现，即在每次使用资源盒的时候按照资源编号顺序地展现资源。展现规则存储包括如表3所示的字段：                              表3       在多媒体彩铃业务流程中，多媒体彩铃业务系统根据用户设置选定需要使用的资源盒；如果需要的话，根据资源盒的媒体类型进行媒体协商；根据资源盒的展现规则从资源盒中确定需要展现的资源；然后展现确定的媒体资源。       以下通过一示例进一步阐明本发明技术方案的实质。       某用户定义了自己的资源盒，该资源盒为“Audio”类型，即音频格式的媒体资源。该资源盒由4个音频资源构成，其ID分别是AuRes001、AuRes002、AuRes003、AuRes004。各资源ID代表的资源名称和资源信息略去不述。同时该用户设置该资源盒的展现规则是顺序展现，该资源盒在上次业务使用过程中展现的资源CurrentResourceID是AuRes002。       在一次新的多媒体彩铃业务使用过程中，例如该用户接收到一个新呼叫，多媒体彩铃业务服务器确定使用前述的资源盒。首先多媒体彩铃业务服务器与对方用户进行音频媒体协商，协商成功后，展现控制模块根据用户设置的展现规则(顺序循环展现)，并查询到上次业务使用的资源是AuRes002，根据资源ID顺序，确定本次业务使用所展现的资源为AuRes003，于是向对方用户展现AuRes003资源。       图2为本发明多媒体彩铃资源盒的展现装置的组成结构示意图，如图2所示，本发明多媒体彩铃资源盒的展现装置包括提供单元20、设置单元21和展现单元22，其中，提供单元20用于为用户提供多媒体彩铃资源盒；设置单元21用于由所述用户设置多媒体彩铃展现规则；展现单元22用于在所述用户发起的呼叫业务过程中按所述用户设置的多媒体彩铃展现规则为被叫用户在所述播资源盒中选择多媒体彩铃并为所述被叫用户展现。其中，所述资源盒中存储的多媒体彩铃资源由所述用户所上载，或者，所述资源盒中存储的多媒体彩铃资源由所述用户从所述多媒体彩铃服务器所提供的多媒体彩铃资源中所选取，或者，所述资源盒中存储的多媒体彩铃是由所述用户上载的多媒体彩铃以及从所述多媒体彩铃服务器所提供的多媒体彩铃资源中选取的多媒体彩铃。所述多媒体彩铃展现规则包括：按所述资源盒中存储的多媒体彩铃的顺序依次循环地为所述用户所呼叫的被叫用户展现多媒体彩铃；或者，随机在所述资源盒中存储的多媒体彩铃选择一个展现给所述用户所呼叫的被叫用户。所述多媒体彩铃包括但不限于以下资源中的至少一种：音频文件、视频文件、文本文件、图片、电子名片。       本领域技术人员应当理解，图2所示的多媒体彩铃资源盒的展现装置是为实现前述的多媒体彩铃资源盒的展现方法而设置的，图中的各处理单元的实现功能可参照前述方法中的相关描述而理解。图2所示的装置中各处理单元的功能可通过运行于处理器上的程序而实现，也可通过具体的逻辑电路而实现。       以上所述，仅为本发明的较佳实施例而已，并非用于限定本发明的保护范围。

     
     > 相似文档（答案）：CN101521861A
     > title : 一种实现彩铃业务的方法、系统和设备
     > abstract : 本发明公开了一种获取联系人的彩铃业务信息的方法，其特征在于，包括以下步骤：向联系人的信息发布服务器发送请求消息，请求获取所述联系人的个人信息；接收所述信息发布服务器发送的所述联系人的个人信息，所述个人信息中包括所述联系人的彩铃业务信息。本发明实施例实现了CAB业务融合CAB用户所设定的彩铃信息，向订阅自己个人信息的联系人展示自己是否开通了彩铃业务以及订购了哪些彩铃，而拨打该CAB用户的其他用户能选择该CAB用户设定的彩铃进行播放。
     > claims: 1.一种获取联系人的彩铃业务信息的方法，其特征在于，包括以下步骤：       向联系人的信息发布服务器发送请求消息，请求获取所述联系人的个人信息；       接收所述信息发布服务器发送的所述联系人的个人信息，所述个人信息中包括所述联系人的彩铃业务信息；       发起对所述联系人的终端的呼叫请求，所述呼叫请求中携带从所述彩铃业务信息中选择的彩铃信息，所述彩铃信息至少包括彩铃的标识；       接收彩铃业务平台根据所述呼叫请求中携带的所述彩铃信息播放的彩铃。            2.一种播放彩铃的方法，其特征在于，包括：       彩铃业务平台接收对联系人的终端的呼叫请求，并判断所述呼叫请求中是否携带彩铃信息，所述彩铃信息至少包括彩铃的标识；       如果所述呼叫请求中携带彩铃信息，则所述彩铃业务平台根据所述彩铃信息向发起所述呼叫请求的终端播放彩铃；       其中，在所述彩铃业务平台接收对联系人的终端的呼叫请求之前，还包括：发起所述呼叫请求的终端向联系人的信息发布服务器发送请求消息，请求获取所述联系人的个人信息，所述个人信息中包括所述联系人的彩铃信息。            3.如权利要求2所述的方法，其特征在于，所述携带彩铃信息具体为：       通过call-info头域携带所述彩铃信息。            4.如权利要求2所述的方法，其特征在于，所述呼叫请求中携带彩铃信息的携带方式，还包括：       通过purpose参数指定call-info头域携带的所述彩铃信息的作用。            5.一种实现彩铃业务的系统，其特征在于，包括：终端和融合地址本CAB服务器，       所述终端，用于向CAB服务器发送请求消息，请求获取联系人的个人信息，接收所述CAB服务器发送的所述联系人的个人信息，所述个人信息中包括所述联系人的彩铃业务信息；       所述CAB服务器，用于接收所述终端发送的请求消息，向所述终端发送所述联系人的个人信息；       彩铃业务平台，用于接收所述终端发起的呼叫请求，判断所述呼叫请求中是否携带彩铃信息；如果所述呼叫请求中携带彩铃信息，则根据所述彩铃信息向所述终端播放彩铃。            6.如权利要求5所述的系统，其特征在于，所述CAB服务器，还用于从彩铃业务平台获取所述联系人的彩铃业务信息，将所述彩铃业务信息融合到所述联系人的个人信息中，并将所述联系人的个人信息发送给订阅所述联系人个人信息的用户。            7.一种终端，其特征在于，包括：       发送模块，用于向融合地址本CAB服务器发送请求消息，请求获取联系人的个人信息；       接收模块，用于接收CAB服务器发送的所述联系人的个人信息，所述个人信息中包括所述联系人的彩铃业务信息；       呼叫模块，用于发起对所述联系人终端的呼叫请求，所述呼叫请求中携带从所述联系人的彩铃业务信息中选择的彩铃信息，所述彩铃信息至少包括彩铃的标识，并接收彩铃业务平台根据所述呼叫请求中携带的所述彩铃信息播放的彩铃。            8.一种彩铃业务平台，其特征在于，包括：       接收模块，用于接收终端发起的对联系人的终端的呼叫请求，在所述彩铃业务平台接收对联系人的终端的呼叫请求之前，还包括：发起所述呼叫请求的终端向联系人的信息发布服务器发送请求消息，请求获取所述联系人的个人信息，所述个人信息中包括所述联系人的彩铃信息；       判断模块，用于判断所述呼叫请求中是否携带彩铃信息，所述彩铃信息至少包括彩铃的标识；       播放模块，用于根据所述判断模块判断的结果向所述终端播放彩铃。
     > description : 一种实现彩铃业务的方法、系统和设备               技术领域          本发明涉及通信技术领域，特别涉及一种实现彩铃业务的方法、系统和设备。                 背景技术          彩铃业务是一项允许移动电话用户和固定电话用户定制特别回铃音来替代传统回铃音展示给拨打自己电话的用户的业务。电话用户定制的回铃音可以是音频，包括音乐或者预先录制的话音信息，也可以是包含视频、音频或其他媒体的多媒体信息。彩铃业务用户可以通过Internet网络提供的用户自助服务平台，自助选择服务商或者运营商提供的回铃音文件，也可以将用户自己编辑制作的回铃音文件上传到网站，并进行相应的彩铃播放策略设置。当主叫用户拨打已申请彩铃业务的用户时，就能看到或听到该用户选择的回铃音文件信息，而不是传统的回铃音。另外，彩铃业务可以由被叫申请设置并展示给呼叫自己的用户，也可以由主叫申请设置并在呼叫其它用户时展示给自己。       地址簿是记录联系人联系方式的列表。地址簿方便了人与人的通信与沟通，其功能和容量也随着移动通信业务的丰富而不断强大，例如提供联系人呈现信息、联系人的群组和分类等功能。随着业务的发展，运营商也在网络上为用户存储相应的联系列表信息，使用户在使用时更加方便，无论用户使用什么样的终端，都可以从网络上获取其联系人的信息。       现有的CAB(Converged Address Book，融合地址本)服务中针对每个用户存储有其个人静态信息和动态信息供其联系人订阅，用户的CAB服务器和终端上也保存有用户订阅的联系人的静态信息和动态信息，静态信息包括用户的不同的联系方式，如工作电话，家庭电话，手机号，QQ号码等，还包括个人主页，家庭住址，工作单位等，动态信息包括呈现信息及个人偏好，包括通信偏好，媒体类型偏好。同时，也包括有部分的个人业务信息，如位置信息、业务能力、IM(Instant Message，即时消息)或POC(Push-to-talk OverCellular，无线一键通)是否上线等。       目前的彩铃业务包括由主叫订购的主叫彩铃业务和由被叫订购的被叫彩铃业务，目前的彩铃方案包括CS(Circuit Switch，电路交换)域实现方案和PS(Packet Switch，包交换)域实现方案。上述彩铃方案包括IMS(IP MultimediaSubsystem，多媒体子系统)域实现方案。然而，对于被叫彩铃业务，主叫用户不能知晓被叫用户设置的彩铃是哪些，从而无法选择向自己播放的彩铃，而只能是被动地体验被叫设置的播放给自己的彩铃。在实现本发明的过程中，发明人发现现有技术至少存在以下问题：       现有的CAB业务不能融合用户所设定的彩铃业务信息，主叫用户不能获知被叫用户是否开通了彩铃业务以及开通了哪些彩铃，而且当该被叫用户订阅了多个彩铃音时，拨打该被叫用户的主叫用户不能选择该被叫用户所设定的彩铃，只能随机的听到该被叫用户的多个彩铃音中的一个。                 发明内容          本发明实施例提供一种实现彩铃业务的方法、系统和设备，以实现信息展示业务，例如CAB业务或呈现业务，融合用户所设定的彩铃信息，向订阅自己彩铃信息的联系人展示自己是否开通了彩铃业务以及订购了哪些彩铃，而且当该用户订阅了多个彩铃音时，拨打该用户的其他用户能够选择该用户设定的彩铃进行播放。       为达到上述目的，本发明实施例一方面提供一种获取联系人的彩铃业务信息的方法，包括以下步骤：向联系人的信息发布服务器发送请求消息，请求获取所述联系人的个人信息；接收所述信息发布服务器发送的所述联系人的个人信息，所述个人信息中包括所述联系人的彩铃业务信息。       另一方面，本发明实施例还提供一种提供联系人的彩铃业务信息的方法，包括以下步骤：信息发布服务器接收终端发送的请求获取联系人的个人信息的请求消息；向终端返回所述联系人的个人信息，所述个人信息中包括所述联系人的彩铃业务信息。       再一方面，本发明实施例还提供一种播放彩铃的方法，包括以下步骤：       彩铃业务平台接收呼叫请求，并判断所述呼叫请求中是否携带彩铃信息；如果所述呼叫请求中携带彩铃信息，则所述彩铃业务平台根据所述彩铃信息向发起所述呼叫请求的终端播放彩铃。       再一方面，本发明实施例还提供一种实现彩铃业务的系统，包括：终端和融合地址本CAB服务器，所述终端，用于向CAB服务器发送请求消息，请求获取所述联系人的个人信息，接收所述CAB服务器发送的所述联系人的个人信息，所述个人信息中包括所述联系人的彩铃业务信息；所述CAB服务器，用于接收所述终端发送的请求消息，向所述终端发送所述联系人的个人信息。       再一方面，本发明实施例还提供一种终端，包括：发送模块，用于向CAB服务器发送请求消息，请求获取所述联系人的个人信息；接收模块，用于接收CAB服务器发送的所述联系人的个人信息，所述个人信息中包括所述联系人的彩铃业务信息。       再一方面，本发明实施例还提供一种CAB服务器，包括：接收模块，用于接收终端发送的请求获取联系人的个人信息的请求消息；发送模块，用于向终端返回所述联系人的个人信息，所述个人信息中包括所述联系人的彩铃业务信息。       再一方面，本发明实施例还提供一种彩铃业务平台，包括：接收模块，用于接收终端发起的呼叫请求；判断模块，用于判断所述呼叫请求中是否携带彩铃信息；播放模块，用于根据所述判断模块判断的结果向所述终端播放彩铃。       与现有技术相比，本发明实施例具有以下优点：本发明实施例实现了CAB业务融合用户所设定的彩铃信息，向订阅自己个人信息的联系人展示自己是否开通了彩铃业务以及订购了哪些彩铃，而且当该用户订阅了多个彩铃音时，拨打该用户的其他用户能选择该用户设定的彩铃进行播放。                 附图说明          图1为本发明实施例的总体逻辑结构图；       图2为本发明实施例利用CAB实现选择播放彩铃的逻辑结构图；       图3为本发明实施例获取彩铃业务信息的方法流程图；       图4为本发明实施例选择播放彩铃的方法流程图；       图5为本发明实施例选择播放IMS彩铃的方法流程图；       图6为本发明实施例的终端结构图；       图7为本发明实施例的CAB服务器结构图；       图8为本发明实施例的彩铃业务平台结构图。                 具体实施方式          下面对本发明的实施例的具体实施方式作详细描述：       如图1所示，为本发明实施例的总体逻辑结构图，本发明实施例的用户可以通过信息发布服务器获取另一用户的相关信息，包括用户的状态信息、用户的业务相关信息等。图1中，被叫用户在彩铃业务平台选择将哪些彩铃提供给主叫用户，供其选择播放，彩铃业务平台将其发布到信息发布服务器，主叫用户向信息发布服务器订阅被叫用户的个人信息，其中包括可供选择播放的彩铃业务信息，信息发布服务器将其发送给主叫终端，在主叫终端向被叫终端发起呼叫时，主叫用户可以在被叫用户提供的彩铃中选择一首作为当前呼叫的彩铃。       其中，上述信息发布服务器可以是Presence服务器、CAB服务器等，本发明实施例并不对获取彩铃信息的具体方式加以限定，仅以CAB服务器为例加以详细阐述如下：       如图2所示，为本发明实施例利用CAB实现选择播放彩铃的逻辑结构图，CAB服务器为用户保存其个人信息和网络地址本，其中网络地址本包括联系人列表、群组列表，用户可以获得最新的联系人列表中每个联系人的个人信息，个人信息包括静态信息和动态信息。其中，被叫CAB服务器从彩铃业务平台获取被叫用户的彩铃业务信息，并融合该彩铃业务信息到该被叫用户的个人信息中，供把该被叫用户设为联系人的用户获取该彩铃业务信息。在主叫用户订阅被叫用户的个人信息时，被叫CAB服务器将被叫用户的个人信息发送到主叫CAB服务器，并通过该主叫CAB服务器发送到主叫终端。当该被叫用户的个人信息发生变化时，例如其彩铃设置信息发生变化时，被叫CAB服务器可以将其更新信息通知到该主叫用户和订阅其个人信息的其他联系人。其中，被叫终端和彩铃业务平台之间可以通过现有技术，例如彩铃业务平台的网络业务设置接口实现。被叫终端和CAB服务器之间的接口，可以通过XCAP(XML Configuration Access Protocol，XML配置访问协议)直接修改CAB服务器上的相应彩铃设置，然后被叫CAB服务器通过与彩铃平台的接口更新彩铃业务平台的彩铃设置，或者，在被叫终端上设置，然后上传到被叫CAB服务器，该接口协议可以是SIP(Session Initiation Protocol，会话初始协议)或者DS(Data Synchronization，数据同步)协议，被叫CAB服务器和彩铃业务平台之间的交互可以通过SIP协议或者XCAP协议进行。       更进一步，被叫用户可以针对其单独的联系人，或者群组，或者对所有的联系人设定特定的彩铃，这种单独设置的彩铃信息会通知到订阅被叫个人信息的联系人，如果发生更新，也会进一步通知到订阅其个人信息的联系人。       如图3所示，为本发明实施例获取彩铃业务信息的方法流程图，具体包括以下步骤：       步骤S301～S304：被叫用户通过被叫终端设置彩铃业务信息，然后通过被叫CAB服务器将该设置发送到彩铃业务平台，彩铃业务平台由此确认该设置，或者，采用现有的途径直接在彩铃业务平台上设置彩铃业务信息。       步骤S305～S307：当有信息更新时，彩铃业务平台将该彩铃业务信息的更新发送到被叫CAB服务器上，或者被叫CAB服务器直接定购彩铃业务平台根据策略变化最后输出的彩铃业务信息。被叫CAB服务器更新并存储更新的彩铃业务信息。所述彩铃业务信息包括被叫终端设置的彩铃策略，例如从某个时间段开始的彩铃是哪个。       步骤S308～S314：主叫用户将被叫用户增加为新的联系人，主叫终端向主叫CAB服务器发送定阅请求消息，被叫CAB服务器接收到主叫终端发送的定阅请求消息后，如果需要被叫用户确认，则向被叫终端发送请求消息，请求确认，询问是否同意订阅，确认订阅后，被叫终端向主叫终端回复确认应答消息。然后被叫CAB服务器向主叫CAB服务器发送被叫用户的个人信息，该个人信息中包含被叫用户设置的彩铃业务信息。       步骤S315～S316：主叫CAB服务器将被叫用户的个人信息增加到主叫用户的网络地址簿中，存储在主叫CAB服务器的存储模块中，然后向主叫终端发送更新的主叫用户的个人地址本信息。       如图4所示，为本发明实施例选择彩铃的方法流程图，具体包括以下步骤：       步骤S401，主叫用户选择要播放的彩铃。主叫用户根据获取到的被叫用户设置的彩铃业务信息后，从中选择自己想要播放的彩铃。       步骤S402，主叫终端发起对被叫终端的呼叫请求。所述呼叫请求中携带主叫用户从所述彩铃业务信息中选择的彩铃相关信息，所述相关信息包括所述彩铃的标识和播放方式。       步骤S403，彩铃业务平台判断主叫终端发起的呼叫请求中是否携带主叫用户从所述彩铃业务信息中选择的彩铃相关信息。如果是则执行步骤S404，否则执行步骤S405。       步骤S404，彩铃业务平台根据主叫终端发起的呼叫请求中的彩铃相关信息向主叫终端播放彩铃。       步骤S405，彩铃业务平台根据被叫终端设置的彩铃业务信息中的彩铃播放策略向主叫终端播放彩铃。       如图5所示，为本发明实施例选择播放IMS彩铃的方法流程图，具体包括以下步骤：       步骤S501、主叫终端在发起呼叫前，在被叫用户为主叫用户和其他所有的联系人设置的彩铃业务信息中的彩铃列表中选择本次呼叫播放的彩铃，其中，所述彩铃业务信息也可以是被叫用户为主叫用户单独设置的彩铃业务信息。       步骤S502、主叫终端向被叫终端发起呼叫请求，所述呼叫请求中携带用于建立呼叫的正常媒体SDP(Session Description Protocol，会话描述协议)(offer1)及主叫用户选择的彩铃的标识，彩铃标识可以是彩铃编号、URI(Uniform Resource Identifier，统一资源标识符)、彩铃名称等，只要能在一定范围内唯一标识一首彩铃即可。       具体可以在call-info头域中携带这一彩铃标识，如下所示：       ；       为了便于彩铃业务平台解析，还可以扩展＂purpose＂参数的取值以指定该头域中携带的URI的作用，如定义purpose＝CMRT，如下所示：       ；purpose＝CMRT       步骤S503～S511、进行通话媒体协商和彩铃媒体协商。       彩铃AS(Application Server，应用服务器)将呼叫请求发送到被叫终端，被叫终端根据自身能力进行正常媒体协商，通过临时响应消息携带主被叫协商后的正常媒体SDP(answer1)并经由彩铃AS发送给主叫终端，该响应消息可以为183信令；       彩铃AS获取MRS的早期媒体SDP(offer2)发给主叫终端进行彩铃媒体协商后将协商后的彩铃SDP(answer2)发送给MRS。       步骤S512～S514、彩铃AS收到被叫终端发送的振铃信令180后指示MRS(Media Resource Sever，媒体资源服务器)向主叫终端播放彩铃并向主叫终端转发180信令。       彩铃AS解析收到的Invite，根据purpose参数值(CMRT)确定call-info头域携带的URI是用于指定播放的彩铃，然后根据URI确定要播放的彩铃并指示MRS向主叫播放。彩铃AS在指示MRS放音之前还可以先确定该彩铃媒体是否为被叫终端已经购买的彩铃。       如果Invite中没有指定要播放的彩铃，则彩铃AS根据被叫终端设置的彩铃业务信息中的彩铃播放策略确定要向主叫终端播放的彩铃并指示MRS播放。       步骤S515～S517、彩铃AS收到被叫摘机信令200后指示MRS结束彩铃播放并向主叫终端转发200信令。       本发明实施例的系统结构包括：终端1、CAB服务器2和彩铃业务平台3。       其中，终端1(如图6所示)，包括：发送模块11，用于向CAB服务器2发送请求消息，请求获取所述联系人的个人信息。接收模块12，用于接收CAB服务器2发送的所述联系人的个人信息，所述个人信息中包括所述联系人的彩铃业务信息。呼叫模块13，用于发起对所述联系人终端的呼叫请求，所述呼叫请求中携带从所述联系人的彩铃业务信息中选择的彩铃信息，所述彩铃信息至少包括彩铃的标识，并接收彩铃业务平台3根据所述呼叫请求中携带的所述彩铃信息播放的彩铃。订阅确认模块14，用于向发起订阅所述联系人的个人信息请求的终端回复订阅确认消息。       其中，CAB服务器2(如图7所示)，包括：接收模块21，用于接收终端1发送的请求获取联系人的个人信息的请求消息。发送模块22，用于向终端1返回所述联系人的个人信息，所述个人信息中包括所述联系人的彩铃业务信息。彩铃信息更新模块23，用于从彩铃业务平台3获取所述联系人的彩铃业务信息，将所述彩铃业务信息融合到所述联系人的个人信息中，并将所述联系人的个人信息发送给订阅所述联系人个人信息的用户。彩铃设置模块24，用于接收终端1发送的设置或修改彩铃的请求消息，并将设置或修改后的信息发送到彩铃业务平台3。       其中，彩铃业务平台3(如图8所示)，包括：接收模块31，用于接收终端1发起的呼叫请求；判断模块32，用于判断所述呼叫请求中是否携带彩铃信息；播放模块33，用于根据判断模块32判断的结果向1终端播放彩铃。       本发明实施例在CAB服务器和彩铃业务平台之间开通一个接口，CAB服务器可以从彩铃业务平台获取用户定购了哪些彩铃，并将这些彩铃业务信息融合在用户的个人信息中。更进一步，通过这个接口，可以方便的在CAB用户的终端上设定该用户针对某个联系人或群组的彩铃音。可以将该信息展示给订阅自己个人信息的联系人。该联系人可以了解用户定购了哪些彩铃。更进一步，也可以通过对不同的联系人展示给不同人设定的彩铃，那么定阅了该用户个人信息的联系人能通过该个人信息中的彩铃业务信息获知该用户为其设定的彩铃。由此，该联系人在呼叫该用户时，可以选择听取哪一首彩铃。       通过以上的实施方式的描述，本领域的技术人员可以清楚地了解到本发明可借助软件加必需的通用硬件平台的方式来实现，当然也可以通过硬件，但很多情况下前者是更佳的实施方式。基于这样的理解，本发明的技术方案本质上或者说对现有技术做出贡献的部分可以以软件产品的形式体现出来，该计算机软件产品存储在一个存储介质中，包括若干指令用以使得一台计算机设备(可以是个人计算机，服务器，或者网络设备等)执行本发明各个实施例所述的方法。       以上公开的仅为本发明的几个具体实施例，但是，本发明并非局限于此，任何本领域的技术人员能思之的变化都应落入本发明的保护范围。
     
  ## 文本处理
  
  1.分词([结巴分词](https://github.com/fxsjy/jieba))
  
  2.去停用词（根据通用词[词表](./data/stopwords.txt)）
  
  3.按照词性只取名词（/n）
  
  #### 处理结果
  
  
    > 文档号（考题）:CN102025838A
    > title : '资源', '装置', '彩铃', '方法', '多媒体'
    > abstract : '业务', '彩铃', '过程', '单元', '多媒体', '装置', '个性化', '定义', '方法', '用户', '资源', '规则'
    > claims : '特征', '方法', '过程', '服务器', '顺序', '多媒体', '音频文件', '装置', '业务', '资源', '电子名片', '规则', '视频文件', '用户', '图片', '权利', '彩铃', '单元', '文本文件', '定义'
    > description : '技术', '指', '流程图', '情况', '地址', '心情', '图', '代表', '资源', '服务器', '视频', '有所', '名称', '记录', '图片', '目的', '图像', '结构', '基本', '终端', '音乐', '方法', '个性化', '顺序', '彩铃', '相片', '提供商', '处理单元', '音频', '过程', '中向', '文本文件', '电子商务', '音频格式', '剪辑', '时', '范围', '领域', '传统', '例', '铃音盒', '姓名', '音', '逻辑电路', '需要的话', '类别', '步骤', '技术人员', '协商', '音频文件', '方案', '方式', '电影', '附图', '歌曲', '程序', '字段', '功能', '电话号码', '视频文件', '含义', '用户', '类型', '系统', '优点', '场景', '乐曲', '兴趣', '文本', '思想', '实质', '内容', '时候', '电子名片', '体验', '文字', '铃音', '盒', '邮箱地址', '对方', '语音', '文件', '运营商', '装置', '媒体', '示例', '资源类型', '彩铃向', '背景', '定义', '规则', '影片', '存储用户', '业务流程', '单元', '信息', '处理器', '模块', '示意图', '编号', '业务', '成', '多媒体', '联系人'
  
  
    > 相似文档（答案）：CN101521861A
    > title : '彩铃', '系统', '方法', '业务'
    > abstract : '消息', '服务器发送', '联系人', '方法', '彩铃', '信息', '用户', '特征', '步骤', '个人信息', '业务'
    > claims : '头域', '模块', '发送给', '彩铃', '权利', '对', '步骤', '服务器', '系统', '平台', '地址', '方式', '终端', '信息', '服务器发送', '消息', '联系人', '个人信息', '标识', '参数', '用户', '特征', '方法', '结果', '业务'
    > description : '话音', '音频', '本质', '回铃音', '存储介质', '贡献', '利用', '存储模块', '领域', '动态', '地址', '时', '终端', '域', '单位', '人', '范围', '个人主页', '硬件', '计算机', '音乐', '发明人', '运营商', '用户', '内', '指令', '标识', '电话', '容量', '图', '话', '业务', '住址', '子系统', '协商', '电路', '信息', '技术人员', '网络地址', '计算机设备', '放音', '通话', '内容', '定义', '情况', '服务商', '策略', '手机号', '背景', '移动电话', '无法', '个人', '个人信息', '流程图', '能力', '网络', '方式', '名称', '消息', '总体', '问题', '联系人', '网站', '过程', 'QQ号', '逻辑', '标识符', '无线', '彩铃', '分类', '参数值', '摘机', '例', '形式', '编辑', '多媒体', '编号', '传统', '时间段', '头域', '类型', '状态', '网络设备', '途径', '系统结构', '协议', '群组', '服务器', '服务器发送', '数据', '文件', '记录', '前者', '软件', '一键', '参数', '附图', '视频', '结构图', '系统', '服务器之间', '上线', '信令', '方案', '服务平台', '局限于', '平台', '功能', '家庭', '目的', '技术', '结果', '资源', '发送给', '列表', '部分', '方法', '体验', '静态', '详细描述', '预先录制', '替代', '优点', '彩铃音', '联系', '步骤', '媒体', '模块'
  
  ## Encoding
  
  
  [bert_as_service](https://github.com/hanxiao/bert-as-service)
  ```
   bc = BertClient()
   bert_vecs = bc.encode(words)
  ```
  图像展示
   >对词向量进行降维
   ```
   pca=PCA(n_components=2,random_state=None)
   points = pca.fit_transform(bert_vecs)
   ```
  ![问题与答案](https://imgur.com/QmVlqfh.png)
  
  ![问题与负样本](https://imgur.com/lw8j3Or.png)
   
   >在样例文档中取claims进行展示，同时取了动词（\V）和名词（\n）
   
   
   ## 文档相似度算法
   
   逻辑为：考题提取词的向量空间与被测文档的提取词向量空间的距离计算，距离越近越为相似。
   
   #### 方法一： 考题词只寻找在测试文档里最近的一个词
   
   
